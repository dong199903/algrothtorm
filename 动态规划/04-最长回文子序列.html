<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /*
    dp[i][j]表示从下标i到j的最长回文串长度
    1.初始化 dp[i][i]=1
    2.判断s[i]是否等于s[j]
      如果等于，则dp[i][j] = dp[i-1][j-1] +2 
      否则取左右回文串的最大 dp[i][j] = max(dp[i+1][j],dp[i][j-1])
    */
    var longestPalindromeSubseq = function(s) {
      let len = s.length;
      let arr = Array.from(new Array(len),item=>new Array(len).fill(0));
      for(let i=0;i<len;i++) arr[i][i] = 1;
      
      for(let i=len-1;i>=0;i--){
        for(let j=i+1;j<len;j++){
          if(s[j]===s[i]) arr[i][j] = arr[i+1][j-1]+2;
          else arr[i][j] = Math.max(arr[i+1][j],arr[i][j-1]);
        }
      }
      
      return arr[0][len-1];
    };
    longestPalindromeSubseq("bbbab");
  </script>
</body>
</html>